{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { toast } from \"react-toastify\";\nconst initialState = {\n  userInfo: {},\n  products: [],\n  checkedBrands: [],\n  checkedCategorys: [],\n  checkedPrices: [],\n  checkedColors: [],\n  allproducts: [],\n  wishlish: [],\n  cartTotalCount: 0,\n  wistlistTotalCount: 0\n};\nexport const orebiSlice = createSlice({\n  name: \"orebi\",\n  initialState,\n  reducers: {\n    addToCart: (state, action) => {\n      const item = state.products.find(item => item._id === action.payload._id && item.color === action.payload.color);\n      if (item) {\n        const productInStock = action.payload.inStock.find(stock => stock.color === item.color);\n        if (item.quantity < productInStock.quantity) {\n          item.quantity += action.payload.quantity;\n        } else {\n          toast.warning(\"Product reached maximum quantity\");\n        }\n      } else {\n        state.products.push(action.payload);\n        toast.success(\"Product added to cart\");\n      }\n    },\n    increaseQuantity: (state, action) => {\n      const item = state.products.find(item => item._id === action.payload._id && item.color === action.payload.color);\n      if (item) {\n        item.quantity++;\n      }\n    },\n    drecreaseQuantity: (state, action) => {\n      const item = state.products.find(item => item._id === action.payload._id && item.color === action.payload.color);\n      if (item.quantity === 1) {\n        item.quantity = 1;\n      } else {\n        item.quantity--;\n      }\n    },\n    deleteItem: (state, action) => {\n      state.products = state.products.filter(item => item._id !== action.payload._id || item.color !== action.payload.color);\n      toast.success(\"Product removed from cart\");\n    },\n    deleteItemWL: (state, action) => {\n      state.wishlish = state.wishlish.filter(item => item._id !== action.payload._id || item.color !== action.payload.color);\n      toast.success(\"Product removed from Wishlist\");\n    },\n    resetCart: state => {\n      state.products = [];\n    },\n    addToWishlist: (state, action) => {\n      const item = state.wishlish.find(item => item._id === action.payload._id && item.color === action.payload.color);\n      if (item) {\n        toast.warning(\"Product already in wishlist\");\n      } else {\n        state.wishlish.push(action.payload);\n        toast.success(\"Product added to wishlist\");\n      }\n    },\n    resetWishlist: state => {\n      state.wishlish = [];\n    },\n    calculateCartTotalCount: state => {\n      var _state$products;\n      state.cartTotalCount = (_state$products = state.products) === null || _state$products === void 0 ? void 0 : _state$products.reduce((total, item) => total + item.quantity, 0);\n    },\n    calculateWishlistTotalCount: state => {\n      var _state$wishlish;\n      state.wistlistTotalCount = (_state$wishlish = state.wishlish) === null || _state$wishlish === void 0 ? void 0 : _state$wishlish.reduce((total, item) => total + item.quantity, 0);\n    },\n    toggleBrand: (state, action) => {\n      const brand = action.payload;\n      const isBrandChecked = state.checkedBrands.some(b => b._id === brand._id);\n      if (isBrandChecked) {\n        state.checkedBrands = state.checkedBrands.filter(b => b._id !== brand._id);\n      } else {\n        state.checkedBrands.push(brand);\n      }\n    },\n    toggleCategory: (state, action) => {\n      const category = action.payload;\n      const isCategoryChecked = state.checkedCategorys.some(b => b._id === category._id);\n      if (isCategoryChecked) {\n        state.checkedCategorys = state.checkedCategorys.filter(b => b._id !== category._id);\n      } else {\n        state.checkedCategorys.push(category);\n      }\n    },\n    togglePrice: (state, action) => {\n      const price = action.payload;\n      const isPriceChecked = state.checkedPrices.some(p => p._id === price._id);\n      if (isPriceChecked) {\n        state.checkedPrices = state.checkedPrices.filter(p => p._id !== price._id);\n      } else {\n        state.checkedPrices.push(price);\n      }\n    },\n    toggleColor: (state, action) => {\n      const color = action.payload;\n      const isColorChecked = state.checkedColors.some(c => c._id === color._id);\n      if (isColorChecked) {\n        state.checkedColors = state.checkedColors.filter(c => c._id !== color._id);\n      } else {\n        state.checkedColors.push(color);\n      }\n    },\n    setUserInfo: (state, action) => {\n      state.userInfo = action.payload;\n    },\n    resetUserInfo: state => {\n      state.userInfo = {};\n    },\n    setProducts: (state, action) => {\n      state.allproducts = action.payload;\n    },\n    resetProducts: state => {\n      state.allproducts = [];\n    }\n  }\n});\nexport const {\n  addToCart,\n  increaseQuantity,\n  drecreaseQuantity,\n  deleteItem,\n  deleteItemWL,\n  resetCart,\n  toggleBrand,\n  toggleCategory,\n  togglePrice,\n  toggleColor,\n  setUserInfo,\n  resetUserInfo,\n  setProducts,\n  resetProducts,\n  addToWishlist,\n  calculateCartTotalCount,\n  calculateWishlistTotalCount,\n  resetWishlist\n} = orebiSlice.actions;\nexport default orebiSlice.reducer;","map":{"version":3,"names":["createSlice","toast","initialState","userInfo","products","checkedBrands","checkedCategorys","checkedPrices","checkedColors","allproducts","wishlish","cartTotalCount","wistlistTotalCount","orebiSlice","name","reducers","addToCart","state","action","item","find","_id","payload","color","productInStock","inStock","stock","quantity","warning","push","success","increaseQuantity","drecreaseQuantity","deleteItem","filter","deleteItemWL","resetCart","addToWishlist","resetWishlist","calculateCartTotalCount","reduce","total","calculateWishlistTotalCount","toggleBrand","brand","isBrandChecked","some","b","toggleCategory","category","isCategoryChecked","togglePrice","price","isPriceChecked","p","toggleColor","isColorChecked","c","setUserInfo","resetUserInfo","setProducts","resetProducts","actions","reducer"],"sources":["D:/SU25/SDN302 - HOANNN/Shopii-Template/front-end/src/redux/orebiSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { toast } from \"react-toastify\";\n\nconst initialState = {\n  userInfo: {},\n  products: [],\n  checkedBrands: [],\n  checkedCategorys: [],\n  checkedPrices: [],\n  checkedColors: [],\n  allproducts: [],\n  wishlish: [],\n  cartTotalCount: 0,\n  wistlistTotalCount: 0,\n};\n\nexport const orebiSlice = createSlice({\n  name: \"orebi\",\n  initialState,\n  reducers: {\n    addToCart: (state, action) => {\n      const item = state.products.find(\n        (item) => item._id === action.payload._id && item.color === action.payload.color\n      );\n      if (item) {\n        const productInStock = action.payload.inStock.find(stock => stock.color === item.color);\n        if (item.quantity < productInStock.quantity) {\n          item.quantity += action.payload.quantity;\n        } else {\n          toast.warning(\"Product reached maximum quantity\");\n        }\n      } else {\n        state.products.push(action.payload);\n        toast.success(\"Product added to cart\");\n      }\n    },\n    increaseQuantity: (state, action) => {\n      const item = state.products.find(\n        (item) => item._id === action.payload._id && item.color === action.payload.color\n      );\n      if (item) {\n        item.quantity++;\n      }\n    },\n    drecreaseQuantity: (state, action) => {\n      const item = state.products.find(\n        (item) => item._id === action.payload._id && item.color === action.payload.color\n      );\n      if (item.quantity === 1) {\n        item.quantity = 1;\n      } else {\n        item.quantity--;\n      }\n    },\n    deleteItem: (state, action) => {\n      state.products = state.products.filter(\n        (item) => item._id !== action.payload._id || item.color !== action.payload.color\n      );\n      toast.success(\"Product removed from cart\");\n    },\n    deleteItemWL: (state, action) => {\n      state.wishlish = state.wishlish.filter(\n        (item) => item._id !== action.payload._id || item.color !== action.payload.color\n      );\n      toast.success(\"Product removed from Wishlist\");\n    },\n    resetCart: (state) => {\n      state.products = [];\n    },\n    addToWishlist: (state, action) => {\n      const item = state.wishlish.find(\n        (item) => item._id === action.payload._id && item.color === action.payload.color\n      );\n      if (item) {\n        toast.warning(\"Product already in wishlist\");\n      } else {\n        state.wishlish.push(action.payload);\n        toast.success(\"Product added to wishlist\");\n      }\n    },\n    resetWishlist: (state) => {\n      state.wishlish = [];\n    },\n\n    calculateCartTotalCount: (state) => {\n      state.cartTotalCount = state.products?.reduce((total, item) => total + item.quantity, 0);\n    },\n\n    calculateWishlistTotalCount: (state) => {\n      state.wistlistTotalCount = state.wishlish?.reduce((total, item) => total + item.quantity, 0);\n    },\n\n    toggleBrand: (state, action) => {\n      const brand = action.payload;\n      const isBrandChecked = state.checkedBrands.some(\n        (b) => b._id === brand._id\n      );\n\n      if (isBrandChecked) {\n        state.checkedBrands = state.checkedBrands.filter(\n          (b) => b._id !== brand._id\n        );\n      } else {\n        state.checkedBrands.push(brand);\n      }\n    },\n\n    toggleCategory: (state, action) => {\n      const category = action.payload;\n      const isCategoryChecked = state.checkedCategorys.some(\n        (b) => b._id === category._id\n      );\n\n      if (isCategoryChecked) {\n        state.checkedCategorys = state.checkedCategorys.filter(\n          (b) => b._id !== category._id\n        );\n      } else {\n        state.checkedCategorys.push(category);\n      }\n    },\n    togglePrice: (state, action) => {\n      const price = action.payload;\n      const isPriceChecked = state.checkedPrices.some(\n        (p) => p._id === price._id\n      );\n      if (isPriceChecked) {\n        state.checkedPrices = state.checkedPrices.filter(\n          (p) => p._id !== price._id\n        );\n      } else {\n        state.checkedPrices.push(price);\n      }\n    },\n    toggleColor: (state, action) => {\n      const color = action.payload;\n      const isColorChecked = state.checkedColors.some(\n        (c) => c._id === color._id\n      );\n      if (isColorChecked) {\n        state.checkedColors = state.checkedColors.filter(\n          (c) => c._id !== color._id\n        );\n      } else {\n        state.checkedColors.push(color);\n      }\n    },\n    setUserInfo: (state, action) => {\n      state.userInfo = action.payload;\n    },\n    resetUserInfo: (state) => {\n      state.userInfo = {};\n    },\n    setProducts: (state, action) => {\n      state.allproducts = action.payload;\n    },\n    resetProducts: (state) => {\n      state.allproducts = [];\n    }\n  },\n});\n\nexport const {\n  addToCart,\n  increaseQuantity,\n  drecreaseQuantity,\n  deleteItem,\n  deleteItemWL,\n  resetCart,\n  toggleBrand,\n  toggleCategory,\n  togglePrice,\n  toggleColor,\n  setUserInfo,\n  resetUserInfo,\n  setProducts,\n  resetProducts,\n  addToWishlist,\n  calculateCartTotalCount,\n  calculateWishlistTotalCount,\n  resetWishlist\n} = orebiSlice.actions;\n\nexport default orebiSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}