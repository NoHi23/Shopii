{"ast":null,"code":"var _jsxFileName = \"D:\\\\SU25\\\\SDN302 - HOANNN\\\\Shopii-Template\\\\front-end\\\\src\\\\pages\\\\DashboardAdmin\\\\ManageProduct\\\\ManageProduct.js\",\n  _s = $RefreshSig$();\n// ManageProduct.js\nimport * as React from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport Paper from \"@mui/material/Paper\";\nimport Products from \"./Products\";\nimport { useOutletContext } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ManageProductA() {\n  _s();\n  const {\n    handleSetDashboardTitle\n  } = useOutletContext();\n  const [products, setProducts] = React.useState([]);\n  const [currentPage, setCurrentPage] = React.useState(1);\n  const [totalPages, setTotalPages] = React.useState(1);\n\n  // Set the dashboard title\n  React.useEffect(() => {\n    handleSetDashboardTitle(\"Manage Products\");\n  }, [handleSetDashboardTitle]);\n\n  // Fetch products with pagination\n  const updateProductList = async function () {\n    let page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    try {\n      const res = await axios.get(`http://localhost:9999/api/admin/products?page=${page}&limit=10`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`\n        }\n      });\n      setProducts(res.data.data);\n      setTotalPages(res.data.totalPages || 1);\n      setCurrentPage(res.data.currentPage || 1);\n    } catch (error) {\n      console.error(\"Error fetching product list:\", error);\n    }\n  };\n  React.useEffect(() => {\n    updateProductList(1);\n  }, []);\n  const handlePageChange = newPage => {\n    if (newPage >= 1 && newPage <= totalPages) {\n      updateProductList(newPage);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 2,\n          display: \"flex\",\n          flexDirection: \"column\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Products, {\n          products: products,\n          onProductUpdated: updateProductList,\n          currentPage: currentPage,\n          totalPages: totalPages,\n          onPageChange: handlePageChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(ManageProductA, \"r3E0ioGdcxbPAfc5x424x+Fz+f8=\", false, function () {\n  return [useOutletContext];\n});\n_c = ManageProductA;\nvar _c;\n$RefreshReg$(_c, \"ManageProductA\");","map":{"version":3,"names":["React","Grid","Paper","Products","useOutletContext","axios","ManageProductA","handleSetDashboardTitle","products","setProducts","useState","currentPage","setCurrentPage","totalPages","setTotalPages","useEffect","updateProductList","page","res","get","headers","Authorization","localStorage","getItem","data","error","console","handlePageChange","newPage","p","display","flexDirection"],"sources":["D:/SU25/SDN302 - HOANNN/Shopii-Template/front-end/src/pages/DashboardAdmin/ManageProduct/ManageProduct.js"],"sourcesContent":["// ManageProduct.js\nimport * as React from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport Paper from \"@mui/material/Paper\";\nimport Products from \"./Products\";\nimport { useOutletContext } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default function ManageProductA() {\n  const { handleSetDashboardTitle } = useOutletContext();\n  const [products, setProducts] = React.useState([]);\n  const [currentPage, setCurrentPage] = React.useState(1);\n  const [totalPages, setTotalPages] = React.useState(1);\n\n  // Set the dashboard title\n  React.useEffect(() => {\n    handleSetDashboardTitle(\"Manage Products\");\n  }, [handleSetDashboardTitle]);\n\n  // Fetch products with pagination\n  const updateProductList = async (page = 1) => {\n    try {\n      const res = await axios.get(\n        `http://localhost:9999/api/admin/products?page=${page}&limit=10`,\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n          },\n        }\n      );\n      setProducts(res.data.data);\n      setTotalPages(res.data.totalPages || 1);\n      setCurrentPage(res.data.currentPage || 1);\n    } catch (error) {\n      console.error(\"Error fetching product list:\", error);\n    }\n  };\n\n  React.useEffect(() => {\n    updateProductList(1);\n  }, []);\n\n  const handlePageChange = (newPage) => {\n    if (newPage >= 1 && newPage <= totalPages) {\n      updateProductList(newPage);\n    }\n  };\n\n  return (\n    <>\n      <Grid item xs={12}>\n        <Paper sx={{ p: 2, display: \"flex\", flexDirection: \"column\" }}>\n          <Products\n            products={products}\n            onProductUpdated={updateProductList}\n            currentPage={currentPage}\n            totalPages={totalPages}\n            onPageChange={handlePageChange}\n          />\n        </Paper>\n      </Grid>\n    </>\n  );\n}"],"mappings":";;AAAA;AACA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,IAAI,MAAM,oBAAoB;AACrC,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAOC,QAAQ,MAAM,YAAY;AACjC,SAASC,gBAAgB,QAAQ,kBAAkB;AACnD,OAAOC,KAAK,MAAM,OAAO;AAAC;AAAA;AAE1B,eAAe,SAASC,cAAc,GAAG;EAAA;EACvC,MAAM;IAAEC;EAAwB,CAAC,GAAGH,gBAAgB,EAAE;EACtD,MAAM,CAACI,QAAQ,EAAEC,WAAW,CAAC,GAAGT,KAAK,CAACU,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGZ,KAAK,CAACU,QAAQ,CAAC,CAAC,CAAC;EACvD,MAAM,CAACG,UAAU,EAAEC,aAAa,CAAC,GAAGd,KAAK,CAACU,QAAQ,CAAC,CAAC,CAAC;;EAErD;EACAV,KAAK,CAACe,SAAS,CAAC,MAAM;IACpBR,uBAAuB,CAAC,iBAAiB,CAAC;EAC5C,CAAC,EAAE,CAACA,uBAAuB,CAAC,CAAC;;EAE7B;EACA,MAAMS,iBAAiB,GAAG,kBAAoB;IAAA,IAAbC,IAAI,uEAAG,CAAC;IACvC,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMb,KAAK,CAACc,GAAG,CACxB,iDAAgDF,IAAK,WAAU,EAChE;QACEG,OAAO,EAAE;UACPC,aAAa,EAAG,UAASC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAE;QAC/D;MACF,CAAC,CACF;MACDd,WAAW,CAACS,GAAG,CAACM,IAAI,CAACA,IAAI,CAAC;MAC1BV,aAAa,CAACI,GAAG,CAACM,IAAI,CAACX,UAAU,IAAI,CAAC,CAAC;MACvCD,cAAc,CAACM,GAAG,CAACM,IAAI,CAACb,WAAW,IAAI,CAAC,CAAC;IAC3C,CAAC,CAAC,OAAOc,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACtD;EACF,CAAC;EAEDzB,KAAK,CAACe,SAAS,CAAC,MAAM;IACpBC,iBAAiB,CAAC,CAAC,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMW,gBAAgB,GAAIC,OAAO,IAAK;IACpC,IAAIA,OAAO,IAAI,CAAC,IAAIA,OAAO,IAAIf,UAAU,EAAE;MACzCG,iBAAiB,CAACY,OAAO,CAAC;IAC5B;EACF,CAAC;EAED,oBACE;IAAA,uBACE,QAAC,IAAI;MAAC,IAAI;MAAC,EAAE,EAAE,EAAG;MAAA,uBAChB,QAAC,KAAK;QAAC,EAAE,EAAE;UAAEC,CAAC,EAAE,CAAC;UAAEC,OAAO,EAAE,MAAM;UAAEC,aAAa,EAAE;QAAS,CAAE;QAAA,uBAC5D,QAAC,QAAQ;UACP,QAAQ,EAAEvB,QAAS;UACnB,gBAAgB,EAAEQ,iBAAkB;UACpC,WAAW,EAAEL,WAAY;UACzB,UAAU,EAAEE,UAAW;UACvB,YAAY,EAAEc;QAAiB;UAAA;UAAA;UAAA;QAAA;MAC/B;QAAA;QAAA;QAAA;MAAA;IACI;MAAA;MAAA;MAAA;IAAA;EACH,iBACN;AAEP;AAAC,GAvDuBrB,cAAc;EAAA,QACAF,gBAAgB;AAAA;AAAA,KAD9BE,cAAc;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}