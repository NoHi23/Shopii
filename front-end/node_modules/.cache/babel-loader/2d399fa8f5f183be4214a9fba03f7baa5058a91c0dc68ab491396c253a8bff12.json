{"ast":null,"code":"import axios from 'axios';\nclass VoucherService {\n  constructor() {\n    this.baseURL = 'http://localhost:9999/api/admin/vouchers';\n    this.token = localStorage.getItem('accessToken') || '';\n  }\n\n  // Lấy tất cả voucher\n  async getAllVouchers() {\n    try {\n      const response = await axios.get(this.baseURL, {\n        headers: {\n          Authorization: `Bearer ${this.token}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response, _error$response2, _error$response2$data;\n      console.error('Error fetching vouchers:', error);\n      const status = (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status;\n      const message = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Unknown error';\n      console.error(`HTTP Status: ${status}, Message: ${message}`);\n      throw error;\n    }\n  }\n\n  // Lấy chi tiết voucher theo id\n  async getVoucherById(id) {\n    try {\n      const response = await axios.get(`${this.baseURL}/${id}`, {\n        headers: {\n          Authorization: `Bearer ${this.token}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response3, _error$response4, _error$response4$data;\n      console.error(`Error fetching voucher ${id}:`, error);\n      const status = (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status;\n      const message = ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'Unknown error';\n      console.error(`HTTP Status: ${status}, Message: ${message}`);\n      throw error;\n    }\n  }\n\n  // Tạo voucher mới\n  async createVoucher(voucherData) {\n    try {\n      const response = await axios.post(this.baseURL, voucherData, {\n        headers: {\n          Authorization: `Bearer ${this.token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response5, _error$response6, _error$response6$data;\n      console.error('Error creating voucher:', error);\n      const status = (_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.status;\n      const message = ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.message) || 'Unknown error';\n      console.error(`HTTP Status: ${status}, Message: ${message}`);\n      throw error;\n    }\n  }\n\n  // Cập nhật voucher\n  async updateVoucher(id, voucherData) {\n    try {\n      const response = await axios.put(`${this.baseURL}/${id}`, voucherData, {\n        headers: {\n          Authorization: `Bearer ${this.token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response7, _error$response8, _error$response8$data;\n      console.error(`Error updating voucher ${id}:`, error);\n      const status = (_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.status;\n      const message = ((_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : (_error$response8$data = _error$response8.data) === null || _error$response8$data === void 0 ? void 0 : _error$response8$data.message) || 'Unknown error';\n      console.error(`HTTP Status: ${status}, Message: ${message}`);\n      throw error;\n    }\n  }\n\n  // Xóa voucher\n  async deleteVoucher(id) {\n    try {\n      const response = await axios.delete(`${this.baseURL}/${id}`, {\n        headers: {\n          Authorization: `Bearer ${this.token}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response9, _error$response10, _error$response10$dat;\n      console.error(`Error deleting voucher ${id}:`, error);\n      const status = (_error$response9 = error.response) === null || _error$response9 === void 0 ? void 0 : _error$response9.status;\n      const message = ((_error$response10 = error.response) === null || _error$response10 === void 0 ? void 0 : (_error$response10$dat = _error$response10.data) === null || _error$response10$dat === void 0 ? void 0 : _error$response10$dat.message) || 'Unknown error';\n      console.error(`HTTP Status: ${status}, Message: ${message}`);\n      throw error;\n    }\n  }\n\n  // Bật/tắt trạng thái voucher\n  async toggleVoucherStatus(id) {\n    try {\n      const response = await axios.put(`${this.baseURL}/${id}/toggle-active`, {}, {\n        headers: {\n          Authorization: `Bearer ${this.token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response11, _error$response12, _error$response12$dat;\n      console.error(`Error toggling voucher status ${id}:`, error);\n      const status = (_error$response11 = error.response) === null || _error$response11 === void 0 ? void 0 : _error$response11.status;\n      const message = ((_error$response12 = error.response) === null || _error$response12 === void 0 ? void 0 : (_error$response12$dat = _error$response12.data) === null || _error$response12$dat === void 0 ? void 0 : _error$response12$dat.message) || 'Unknown error';\n      console.error(`HTTP Status: ${status}, Message: ${message}`);\n      throw error;\n    }\n  }\n\n  // Refresh token if needed\n  refreshToken() {\n    this.token = localStorage.getItem('accessToken') || '';\n  }\n}\nexport default new VoucherService();","map":{"version":3,"names":["axios","VoucherService","constructor","baseURL","token","localStorage","getItem","getAllVouchers","response","get","headers","Authorization","data","error","console","status","message","getVoucherById","id","createVoucher","voucherData","post","updateVoucher","put","deleteVoucher","delete","toggleVoucherStatus","refreshToken"],"sources":["D:/SU25/SDN302 - HOANNN/Shopii-Template/front-end/src/pages/DashboardAdmin/ManageVoucher/VoucherService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nclass VoucherService {\r\n  constructor() {\r\n    this.baseURL = 'http://localhost:9999/api/admin/vouchers';\r\n    this.token = localStorage.getItem('accessToken') || '';\r\n  }\r\n\r\n  // Lấy tất cả voucher\r\n  async getAllVouchers() {\r\n    try {\r\n      const response = await axios.get(this.baseURL, {\r\n        headers: {\r\n          Authorization: `Bearer ${this.token}`\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error fetching vouchers:', error);\r\n      const status = error.response?.status;\r\n      const message = error.response?.data?.message || 'Unknown error';\r\n      console.error(`HTTP Status: ${status}, Message: ${message}`);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Lấy chi tiết voucher theo id\r\n  async getVoucherById(id) {\r\n    try {\r\n      const response = await axios.get(`${this.baseURL}/${id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${this.token}`\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(`Error fetching voucher ${id}:`, error);\r\n      const status = error.response?.status;\r\n      const message = error.response?.data?.message || 'Unknown error';\r\n      console.error(`HTTP Status: ${status}, Message: ${message}`);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Tạo voucher mới\r\n  async createVoucher(voucherData) {\r\n    try {\r\n      const response = await axios.post(this.baseURL, voucherData, {\r\n        headers: {\r\n          Authorization: `Bearer ${this.token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error creating voucher:', error);\r\n      const status = error.response?.status;\r\n      const message = error.response?.data?.message || 'Unknown error';\r\n      console.error(`HTTP Status: ${status}, Message: ${message}`);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Cập nhật voucher\r\n  async updateVoucher(id, voucherData) {\r\n    try {\r\n      const response = await axios.put(`${this.baseURL}/${id}`, voucherData, {\r\n        headers: {\r\n          Authorization: `Bearer ${this.token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(`Error updating voucher ${id}:`, error);\r\n      const status = error.response?.status;\r\n      const message = error.response?.data?.message || 'Unknown error';\r\n      console.error(`HTTP Status: ${status}, Message: ${message}`);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Xóa voucher\r\n  async deleteVoucher(id) {\r\n    try {\r\n      const response = await axios.delete(`${this.baseURL}/${id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${this.token}`\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(`Error deleting voucher ${id}:`, error);\r\n      const status = error.response?.status;\r\n      const message = error.response?.data?.message || 'Unknown error';\r\n      console.error(`HTTP Status: ${status}, Message: ${message}`);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Bật/tắt trạng thái voucher\r\n  async toggleVoucherStatus(id) {\r\n    try {\r\n      const response = await axios.put(`${this.baseURL}/${id}/toggle-active`, {}, {\r\n        headers: {\r\n          Authorization: `Bearer ${this.token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(`Error toggling voucher status ${id}:`, error);\r\n      const status = error.response?.status;\r\n      const message = error.response?.data?.message || 'Unknown error';\r\n      console.error(`HTTP Status: ${status}, Message: ${message}`);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Refresh token if needed\r\n  refreshToken() {\r\n    this.token = localStorage.getItem('accessToken') || '';\r\n  }\r\n}\r\n\r\nexport default new VoucherService(); "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}